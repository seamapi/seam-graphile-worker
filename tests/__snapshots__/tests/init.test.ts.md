# Snapshot report for `tests/init.test.ts`

The actual snapshot is saved in `init.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## initialize seam-graphile-worker

> /somedir/package.json

    `{␊
      "name": "some-package",␊
      "scripts": {␊
        "start:worker": "seam-graphile-worker start"␊
      }␊
    }`

> /somedir/seam-graphile-worker.config.ts

    `import * as tasks from "./src/tasks"␊
    import * as crontabs from "./src/worker/crontabs"␊
    import { SeamGraphileWorkerConfig, getDefaultLogger } from "seam-graphile-worker"␊
    ␊
    export default {␊
      tasks,␊
      crontabs,␊
      health_server_port: process.env.WORKER_HEALTH_SERVER_PORT,␊
      logger: getDefaultLogger(),␊
      migrate_on_start: true␊
    } as const satisfies SeamGraphileWorkerConfig<typeof tasks>`

> /somedir/src/tasks/example_task.ts

    `␊
    ␊
    import {␊
      withSentry,␊
      withDatabasePool,␊
      createWithTaskSpec,␊
    } from "seam-graphile-worker"␊
    ␊
    export const withTaskSpec = createWithTaskSpec({␊
      middlewares: [withSentry, withDatabasePool],␊
    })␊
    ␊
    `

> /somedir/src/tasks/index.ts

    `␊
    ␊
    export { default as example_task } from "./example_task.ts"␊
    ␊
    `

> /somedir/src/worker/crontab.ts

    `import { CronTabItem } from "seam-graphile-worker"␊
    ␊
    export default [␊
      {␊
        task: "example_task",␊
        frequency: "0 0 * * *",␊
        payload: { some_param: "some_value" },␊
        options: { priority: 1 },␊
      }␊
    ] as const`

> /somedir/src/worker/with-task-spec.ts

    `import {␊
      withSentry,␊
      withDatabasePool,␊
      createWithTaskSpec,␊
    } from "seam-graphile-worker"␊
    ␊
    export const withTaskSpec = createWithTaskSpec({␊
      middlewares: [withSentry, withDatabasePool],␊
    })`
